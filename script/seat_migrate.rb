require 'json'

response  = {}
parse = JSON.parse(File.read("./script/courseList.json"))
parse.each do |tb|
  course_int = tb["key"].to_i
  # if course_int > 256300000000
  classroom = Classroom.find_by(spec: tb["key"])
  seats     = Seat.where(classroom: classroom.id)
  response[classroom.spec] = seats.pluck(:student)
  # end
end

# course_lists = ["256302060404", "256204030101", "256302060410", "256302060403", "256302060406", "256302060501", "256302090101", "256204020102", "256204040303", "256202060502", "256202070204", "256202060501", "256204040102", "256204040205", "256204080301", "256204070105", "256204050203", "256203060402", "256204070401", "256204050103", "256204070402", "256204060202", "256204090302", "256204060302", "256204030104", "256204040104", "256204070405", "256204050302", "256204060104", "256302060407", "256302060402", "256302090104", "256302060408", "256301070101", "256204090105", "256204060204", "256204040202", "256204090103", "256204080202", "256204050105", "256202060304", "256204070406", "256204070102", "256204030102", "256204090102", "256204040101", "256204060103", "256204040201", "256204070301", "256204060203", "256204090303", "256204050102", "256301050101", "256301060601", "256301060501", "256302060401", "256301050202", "256301060502", "256301060602", "256301050102", "256301060101", "256301050201", "256302060409", "256302090202", "256302090201", "256204070302", "256204070404", "256202060402", "256202070202", "256204050201", "256204060301", "256204060303", "256202050303", "256204060102", "256204040204", "256204080102", "256301060202", "256204030103", "256204050204", "256204040103", "256204070101", "256204060205", "256204040105", "256204050202", "256204070201", "256204070103", "256301080102", "256301060201", "256301080101", "256302060405", "256301060102", "256301090101", "256302090103", "256301090102", "256302090102", "256302060502", "256303070403", "256004010202", "256303080801", "256303090302", "256303050604", "256303080703", "256303050605", "256303050504", "256303040504", "256303040505", "256303060505", "256303050401", "256303050701", "256303070703", "256303080704", "256303060401", "256303070405", "256303090305", "256303070502", "256303060504", "256303060603", "256303080706", "256303060404", "256303080702", "256303090304", "256303080802", "256303050702", "256303080604", "256303070704", "256303090501", "256303060502", "256303050402", "256303050405", "256303030304", "256303070501", "256303050404", "256303070401", "256303020201", "256303020202", "256303030303", "256303050603", "256303050601", "256303070406", "256303050501", "256303080605", "256303090303", "256303080601", "256303040404", "256303050606", "256303040405", "256303040502", "256303050502", "256303050703", "256303060405", "256303090307", "256303090503", "256303080602", "256303060402", "256303040603", "256303040403", "256303040601", "256303090306", "256303070402", "256303080705", "256303050505", "256303040501", "256303030302", "256303081004", "256303060601", "256303080701", "256303050403", "256303040401", "256303030301", "256303040402", "256303090301", "256303040602", "256303060403", "256303040503", "256303080603", "256303060501", "256303081003", "256303090502", "256303060602", "256303060503", "256303070404", "256303080606", "256303050503"]
# course_lists.each do |cs|
#   classroom = Classroom.find_by(spec: cs)
#   seats     = Seat.where(classroom: classroom.id)
#   response[classroom.spec] = seats.pluck(:student)
# end

puts response

response.keys.each do |key|
  response[key].each do |seat|
    puts "#{seat}|#{key}"
  end
end

